(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0b0d"],{Jnla:function(t,e,i){"use strict";var a=i("hcqM");i.n(a).a},"Lyz+":function(t,e,i){"use strict";i.d(e,"g",function(){return r}),i.d(e,"b",function(){return n}),i.d(e,"j",function(){return o}),i.d(e,"e",function(){return l}),i.d(e,"i",function(){return s}),i.d(e,"c",function(){return u}),i.d(e,"k",function(){return c}),i.d(e,"f",function(){return d}),i.d(e,"h",function(){return m}),i.d(e,"a",function(){return p}),i.d(e,"d",function(){return g});var a=i("t3Un");function r(t){return Object(a.a)({url:"/logistics/listCompany",method:"get",params:t})}function n(t){return Object(a.a)({url:"/logistics/addCompany",method:"post",data:t})}function o(t){return Object(a.a)({url:"/logistics/updateCompany",method:"post",data:t})}function l(t){return Object(a.a)({url:"/logistics/delCompany",method:"post",data:t})}function s(t){return Object(a.a)({url:"/logistics/listTruck",method:"get",params:t})}function u(t){return Object(a.a)({url:"/logistics/addTruck",method:"post",data:t})}function c(t){return Object(a.a)({url:"/logistics/updateTruck",method:"post",data:t})}function d(t){return Object(a.a)({url:"/logistics/delTruck",method:"post",data:t})}function m(t){return Object(a.a)({url:"/logistics/queryOrderList",method:"get",params:t})}function p(t){return Object(a.a)({url:"/logistics/queryTransit",method:"get",params:t})}function g(t){return Object(a.a)({url:"/logistics/createOrder",method:"post",data:t})}},WOa2:function(t,e,i){"use strict";i.r(e);var a=i("Lyz+"),r=i("rs3x"),n=i("X4fA"),o={0:"未审核",1:"未备货",2:"已备货",3:"未派送",4:"已发货",5:"已收货",6:"手动收货",7:"待支付",8:"取消订单",9:"订单超时",10:"交易完成"},l={0:"在途中",1:"派送完成"},s={name:"LogisticsOrder",components:{Pagination:i("Mz3J").a},filters:{orderStatusFilter:function(t){return o[t]},detailStatusFilter:function(t){return l[t]}},data:function(){return{uploadPath:r.e,logisticsDetailList:[],list:[],total:0,listLoading:!0,listQuery:{page:1,limit:20,transitId:void 0,orderId:void 0,sort:"add_time",order:"desc"},dataForm:{transitId:void 0,id:void 0,licensePlateNumber:void 0,driver:void 0,freight:void 0,createUser:void 0,transitStatus:void 0,createTime:void 0,orderSn:void 0,shipStatus:void 0},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑订单信息"},rules:{licensePlateNumber:[{required:!0,message:"车牌号不能为空",trigger:"blur"}],driver:[{required:!0,message:"司机不能为空",trigger:"blur"}],phone:[{required:!0,message:"联系电话不能为空",trigger:"blur"},{required:String,min:11,max:11,message:"手机号应该是11位",trigger:"blur"}]},downloadLoading:!1}},computed:{headers:function(){return{"X-Litemall-Admin-Token":Object(n.a)()}}},created:function(){this.getList(),this.init()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(a.h)(this.listQuery).then(function(e){t.list=e.data.data.list,t.total=e.data.data.total,t.listLoading=!1}).catch(function(){t.list=[],t.total=0,t.listLoading=!1})},handleFilter:function(){this.listQuery.page=1,this.getList()},resetForm:function(){this.dataForm={transitId:void 0,id:void 0,licensePlateNumber:void 0,driver:void 0,freight:void 0,createUser:void 0,transitStatus:void 0,createTime:void 0,orderSn:void 0,shipStatus:void 0}},uploadUrl:function(t){this.dataForm.url=t.data.url},handleUpdate:function(t){var e=this;this.dataForm.transitId=t.transitId,Object(a.a)(this.dataForm).then(function(t){e.logisticsDetailList=t.data.data.list,e.$notify.success({title:"成功",message:"查找成功"})}).catch(function(t){e.$notify.error({title:"失败",message:t.data.errmsg})}),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([i.e("chunk-0d49"),i.e("chunk-2088")]).then(i.bind(null,"S/jZ")).then(function(e){e.export_json_to_excel2(["物流订单编号","所属物流公司ID","车牌号","司机","运费","物流派送状态","创建时间","创建人"],t.list,["transitId","companyId","licensePlateNumber","driver","freight","transitStatus","createTime","createUser"],"物流订单信息"),t.downloadLoading=!1})}}},u=(i("Jnla"),i("KHd+")),c=Object(u.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入物流订单编号"},model:{value:t.listQuery.transitId,callback:function(e){t.$set(t.listQuery,"transitId",e)},expression:"listQuery.transitId"}}),t._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入车牌照"},model:{value:t.listQuery.licensePlateNumber,callback:function(e){t.$set(t.listQuery,"licensePlateNumber",e)},expression:"listQuery.licensePlateNumber"}}),t._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["GET /admin/logistics/listLogisticsOrder"],expression:"['GET /admin/logistics/listLogisticsOrder']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查找\n    ")]),t._v(" "),i("el-button",{staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("导出\n    ")])],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"正在查询中。。。",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"物流订单编号",prop:"transitId",sortable:""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"所属物流公司ID",prop:"companyId"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"车牌号",prop:"licensePlateNumber"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"司机",prop:"driver"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"运费",prop:"freight"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"物流配送状态",prop:"transitStatus"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",[t._v(t._s(t._f("orderStatusFilter")(e.row.transitStatus)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"创建时间",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"创建人",prop:"createUser"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"200","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["POST /admin/logistics/updateTruck"],expression:"['POST /admin/logistics/updateTruck']"}],attrs:{type:"primary",size:"mini"},on:{click:function(i){t.handleUpdate(e.row)}}},[t._v("详情\n        ")])]}}])})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){t.$set(t.listQuery,"page",e)},"update:limit":function(e){t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),t._v(" "),i("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:t.rules,model:t.dataForm,"status-icon":"","label-position":"left","label-width":"100px"}}),t._v(" "),i("el-table",{attrs:{data:t.logisticsDetailList,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"物流订单编号",prop:"transitId",sortable:""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"商品订单编号",prop:"orderSn"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"物流配送状态",prop:"shipStatus"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",[t._v(t._s(t._f("detailStatusFilter")(e.row.shipStatus)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"创建时间",prop:"createTime"}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),"create"==t.dialogStatus?i("el-button",{attrs:{type:"primary"},on:{click:t.createData}},[t._v("确定")]):i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确定")])],1)],1)],1)},[],!1,null,null,null);c.options.__file="logisticsOrder.vue";e.default=c.exports},Y5bG:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),Math.easeInOutQuad=function(t,e,i,a){return(t/=a/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function r(t,e,i){var r=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,n=t-r,o=0;e=void 0===e?500:e;!function t(){o+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(o,r,n,e)),o<e?a(t):i&&"function"==typeof i&&i()}()}},hcqM:function(t,e,i){},rs3x:function(t,e,i){"use strict";i.d(e,"c",function(){return r}),i.d(e,"a",function(){return n}),i.d(e,"d",function(){return o}),i.d(e,"b",function(){return l}),i.d(e,"e",function(){return s});var a=i("t3Un");function r(t){return Object(a.a)({url:"/storage/list",method:"get",params:t})}function n(t){return Object(a.a)({url:"/storage/create",method:"post",data:t})}function o(t){return Object(a.a)({url:"/storage/update",method:"post",data:t})}function l(t){return Object(a.a)({url:"/storage/delete",method:"post",data:t})}var s="http://39.97.235.28:8083/admin/storage/create"}}]);