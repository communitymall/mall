(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f6043e9"],{"0e44":function(t,e,a){var r=a("88dd"),n=a("a013"),i=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=a("01f5")(Function.call,a("acb9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:r(t,a),t}}({},!1):void 0),check:i}},"1c7c":function(t,e,a){"use strict";a.r(e);var r,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order_list"},[a("van-nav-bar",{attrs:{title:"门店详情","left-text":"返回","left-arrow":""},on:{"click-left":t.goback}}),a("van-tabs",{attrs:{"swipe-threshold":5},on:{click:t.handleTabClick},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.tabTitles,function(e,r){return a("van-tab",{key:r,attrs:{title:e}},[0===t.activeIndex?a("van-cell-group",[a("van-cell",{attrs:{title:"商户名称",value:t.merchantName,isLink:""},on:{click:t.onSetManchantName}}),a("van-cell",{attrs:{title:"商户地址",value:t.merchantAddress,isLink:""},on:{click:t.onSetManchantAddress}}),a("van-cell",{attrs:{title:"商户电话",value:t.merchantPhone,isLink:""},on:{click:t.onSetManchantPhone}}),a("van-cell",{attrs:{title:"商户负责人",value:t.merchantLeader,isLink:""},on:{click:t.onSetManchantLeader}}),a("van-cell",{attrs:{title:"商户状态",isLink:""},on:{click:t.onSetManchantAudit}},[a("span",[t._v("  "+t._s(t._f("detailMerchantStatusFilter")(t.merchantStatus)))])]),a("van-cell",{staticClass:"cell_middle",attrs:{title:"门店照片"}})],1):t._e(),0===t.activeIndex?a("img",{attrs:{src:t.pic,width:"100%"}}):t._e(),1===t.activeIndex?a("van-cell-group",[t._l(t.merchantList,function(e,r){return a("div",{key:r,staticClass:"card-goods__item"},[3===e.roleType?a("van-cell",{attrs:{value:"编辑","is-link":""},on:{click:function(a){return t.onEdit(e,r)}}},[a("template",{slot:"title"},[a("span",{staticClass:"custom-title"},[t._v(t._s(t.merchantLeader))]),a("van-tag",{attrs:{type:"danger"}},[t._v(t._s(t._f("detailStatusFilter")(e.roleType)))]),a("br"),a("span",[t._v(t._s(t.merchantPhone))])],1)],2):t._e(),3!==e.roleType?a("van-cell",{attrs:{value:"编辑","is-link":""},on:{click:function(a){return t.onEdit(e,r)}}},[a("template",{slot:"title"},[a("span",{staticClass:"custom-title"},[t._v(t._s(e.name))]),a("van-tag",{attrs:{type:"danger"}},[t._v(t._s(t._f("detailStatusFilter")(e.roleType)))]),a("br"),a("span",[t._v(t._s(e.mobile))])],1)],2):t._e()],1)}),a("div",{attrs:{align:"center"}},[a("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.addMerchantUser}},[t._v("添加人员")])],1)],2):t._e()],1)}),1)],1)},i=[],c=a("a506"),o=(a("e4b3"),a("bff1")),s=(a("9cd4"),a("7cfc")),d=(a("a541"),a("2ab2")),l=(a("d0bb"),a("5b9b")),u=(a("bd8f"),a("69a2")),h=(a("1def"),a("35b1")),f=(a("7364"),a("ae9e"),a("003e")),p=(a("d4d5"),a("813c"),a("85a0")),m=(a("a710"),a("49b7")),b=a("4ec3"),v=a("6e6d");v["a"].use(m["a"],p["a"]);var g={0:"管理员",1:"厨师",2:"店员",3:"负责人"},y={0:"审核中",1:"审核未通过",2:"审核通过"},I={filters:{detailStatusFilter:function(t){return g[t]},detailMerchantStatusFilter:function(t){return y[t]}},name:"merchant-detail",props:{active:{type:[String,Number],default:0}},created:function(){this.init(),this.findStrorUser()},data:function(){return{activeIndex:Number(this.active),tabTitles:["门店信息","人员信息"],merchantList:[],page:0,limit:10,loading:!1,finished:!1,shipData:{storeId:""},leaderData:{id:"",merchantLeader:"",merchantPhone:""},merchantName:"",merchantCode:"",merchantAddress:"",merchantPic:"",merchantPhone:"",merchantLeader:"",merchantStatus:"",avatar:"",usId:"",uId:"",roleType:"",mobile:"",storeId:"",pic:""}},methods:{afterRead:function(t){var e=this,a=this.$route.query.storeId,r=t.file,n=this.merchantPic,i=new FormData;i.append("imagefile",r),i.append("storeId",a),i.append("merchantPic",n),Object(b["U"])(i).then(function(t){e.merchantPic=t.data.data,e.pic=t.data.data+"?"+Math.random()})},init:function(){this.page=0,this.getMerchantList()},onSetManchantName:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantName",query:{storeId:t}})},onSetManchantAddress:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantAddress",query:{storeId:t}})},onSetManchantLeader:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantLeader",query:{storeId:t}})},onSetManchantPhone:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantPhone",query:{storeId:t}})},onSetManchantCode:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantCode",query:{storeId:t}})},onSetManchantAudit:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-audit",query:{storeId:t}})},onEdit:function(t,e){this.$router.push({name:"merchant-detail-setMerchantUser",query:{userId:t.uId,storeId:t.storeId,roleType:t.roleType}})},onEditLeader:function(){this.$router.push({name:"merchantLeader-detail",query:{id:this.leaderData.id}})},addMerchantUser:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-addMerchantUser",query:{storeId:t}})},goback:function(){this.$router.go(-1)},handleTabClick:function(){1===this.activeIndex&&(this.findStrorUser(),this.findLeader())},findStrorUser:function(){var t=this;this.shipData.storeId=this.$route.query.storeId,Object(b["O"])(this.shipData).then(function(e){var a=e.data.data;t.merchantList=e.data.data;for(var r=0;r<a.length;r++)a[r]})},findLeader:function(){var t=this;this.shipData.storeId=this.$route.query.storeId,Object(b["G"])(this.shipData).then(function(e){t.leaderData.merchantLeader=e.data.data.merchantLeader,t.leaderData.merchantPhone=e.data.data.merchantPhone,t.leaderData.id=e.data.data.id})},getMerchantList:function(){var t=this,e=this.$route.query.storeId;this.shipData.storeId=e,Object(b["S"])(this.shipData).then(function(e){t.merchantName=e.data.data.merchantName,t.merchantAddress=e.data.data.merchantAddress,t.merchantPic=e.data.data.merchantPic,t.merchantCode=e.data.data.merchantCode,t.merchantPhone=e.data.data.merchantPhone,t.merchantLeader=e.data.data.merchantLeader,t.merchantStatus=e.data.data.merchantStatus,t.pic=e.data.data.merchantPic+"?"+Math.random()}),this.page++}},components:(r={},Object(c["a"])(r,f["a"].name,f["a"]),Object(c["a"])(r,h["a"].name,h["a"]),Object(c["a"])(r,u["a"].name,u["a"]),Object(c["a"])(r,l["a"].name,l["a"]),Object(c["a"])(r,d["a"].name,d["a"]),Object(c["a"])(r,s["a"].name,s["a"]),Object(c["a"])(r,o["a"].name,o["a"]),r)},S=I,k=(a("ef20"),a("6691")),_=Object(k["a"])(S,n,i,!1,null,"4ac46bc2",null);e["default"]=_.exports},"1def":function(t,e,a){"use strict";a("b628"),a("e76c"),a("573e")},"229f":function(t,e,a){},"2ab2":function(t,e,a){"use strict";var r=a("5f8d"),n=a("d80e"),i=a("f6b3"),c=a("13ee"),o=a("27e0"),s=Object(r["a"])("list"),d=s[0],l=s[1],u=s[2];e["a"]=d({mixins:[Object(i["a"])(function(t){this.scroller||(this.scroller=Object(c["c"])(this.$el)),t(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick(function(){if(!(t.loading||t.finished||t.error)){var e,a=t.$el,r=t.scroller,i=t.offset,c=t.direction;e=r.getBoundingClientRect?r.getBoundingClientRect():{top:0,bottom:r.innerHeight};var o=e.bottom-e.top;if(!o||Object(n["a"])(a))return!1;var s=!1,d=t.$refs.placeholder.getBoundingClientRect();s="up"===c?d.top-e.top<=i:d.bottom-e.bottom<=i,s&&(t.$emit("input",!0),t.$emit("load"))}})},clickErrorText:function(){this.$emit("update:error",!1),this.check()}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",class:l("placeholder")});return t("div",{class:l(),attrs:{role:"feed","aria-busy":this.loading}},["down"===this.direction?this.slots():e,this.loading&&t("div",{class:l("loading"),key:"loading"},[this.slots("loading")||t(o["a"],{attrs:{size:"16"}},[this.loadingText||u("loading")])]),this.finished&&this.finishedText&&t("div",{class:l("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:l("error-text")},[this.errorText]),"up"===this.direction?this.slots():e])}})},"44de":function(t,e,a){var r=a("88dd"),n=a("0e44").set;t.exports=function(t,e,a){var i,c=e.constructor;return c!==a&&"function"==typeof c&&(i=c.prototype)!==a.prototype&&r(i)&&n&&n(t,i),t}},"4d4d":function(t,e,a){},"539d":function(t,e,a){var r=a("b2f5"),n=a("f01a"),i=a("b6f1"),c=a("c9ea"),o="["+c+"]",s="​",d=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),u=function(t,e,a){var n={},o=i(function(){return!!c[t]()||s[t]()!=s}),d=n[t]=o?e(h):c[t];a&&(n[a]=d),r(r.P+r.F*o,"String",n)},h=u.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},"5b9b":function(t,e,a){"use strict";var r=a("23c4"),n=a.n(r),i=a("5f8d"),c=a("ef3a"),o=a("2e65"),s=a("7cfc"),d=a("85a0"),l=Object(i["a"])("card"),u=l[0],h=l[1];function f(t,e,a,r){var i=e.thumb,l=a.num||Object(c["b"])(e.num),u=a.price||Object(c["b"])(e.price),f=a["origin-price"]||Object(c["b"])(e.originPrice),p=l||u||f;function m(t){Object(o["a"])(r,"click-thumb",t)}function b(){if(a.tag||e.tag)return t("div",{class:h("tag")},[a.tag?a.tag():t(s["a"],{attrs:{mark:!0,type:"danger"}},[e.tag])])}function v(){if(a.thumb||i)return t("a",{attrs:{href:e.thumbLink},class:h("thumb"),on:{click:m}},[a.thumb?a.thumb():t(d["a"],{attrs:{src:i,width:"100%",height:"100%",fit:"contain","lazy-load":e.lazyLoad}}),b()])}function g(){return a.title?a.title():e.title?t("div",{class:h("title")},[e.title]):void 0}function y(){return a.desc?a.desc():e.desc?t("div",{class:[h("desc"),"van-ellipsis"]},[e.desc]):void 0}function I(){if(u)return t("div",{class:h("price")},[a.price?a.price():e.currency+" "+e.price])}function S(){if(f){var r=a["origin-price"];return t("div",{class:h("origin-price")},[r?r():e.currency+" "+e.originPrice])}}function k(){if(l)return t("div",{class:h("num")},[a.num?a.num():"x "+e.num])}function _(){if(a.footer)return t("div",{class:h("footer")},[a.footer()])}return t("div",n()([{class:h()},Object(o["b"])(r,!0)]),[t("div",{class:h("header")},[v(),t("div",{class:h("content",{centered:e.centered})},[g(),y(),a.tags&&a.tags(),p&&t("div",{class:"van-card__bottom"},[I(),S(),k(),a.bottom&&a.bottom()])])]),_()])}f.props={tag:String,desc:String,thumb:String,title:String,centered:Boolean,lazyLoad:Boolean,thumbLink:String,num:[Number,String],price:[Number,String],originPrice:[Number,String],currency:{type:String,default:"¥"}},e["a"]=u(f)},"69a2":function(t,e,a){"use strict";var r=a("23c4"),n=a.n(r),i=a("5f8d"),c=a("2e65"),o=a("77e3"),s=a("1c68"),d=a("bd14"),l=Object(i["a"])("panel"),u=l[0],h=l[1];function f(t,e,a,r){var i=function(){return[a.header?a.header():t(s["a"],{attrs:{icon:e.icon,label:e.desc,title:e.title,value:e.status,valueClass:h("header-value")},class:h("header")}),t("div",{class:h("content")},[a.default&&a.default()]),a.footer&&t("div",{class:[h("footer"),o["f"]]},[a.footer()])]};return t(d["a"],n()([{class:h(),scopedSlots:{default:i}},Object(c["b"])(r,!0)]))}f.props={icon:String,desc:String,title:String,status:String},e["a"]=u(f)},"7cfc":function(t,e,a){"use strict";var r=a("23c4"),n=a.n(r),i=a("5f8d"),c=a("2e65"),o=a("77e3"),s=Object(i["a"])("tag"),d=s[0],l=s[1];function u(t,e,a,r){var i,s,d=e.type,u=e.mark,h=e.plain,f=e.color,p=e.round,m=e.size,b=h?"color":"backgroundColor",v=(i={},i[b]=f,i);e.textColor&&(v.color=e.textColor);var g={mark:u,plain:h,round:p};return m&&(g[m]=m),t("span",n()([{style:v,class:[l([g,d]),(s={},s[o["e"]]=h,s)]},Object(c["b"])(r,!0)]),[a.default&&a.default()])}u.props={size:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String,type:{type:String,default:"default"}},e["a"]=d(u)},"813c":function(t,e,a){"use strict";a("b628"),a("6025")},"8bed":function(t,e,a){},"9cd4":function(t,e,a){"use strict";a("b628"),a("4d4d")},a541:function(t,e,a){"use strict";a("b628"),a("f680")},a710:function(t,e,a){"use strict";a("b628"),a("6025"),a("8564"),a("fa69"),a("e2bb"),a("451a"),a("6fc8")},a891:function(t,e,a){var r=a("fb6d"),n=a("b4e0").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},acb9:function(t,e,a){var r=a("d217"),n=a("7dea"),i=a("3a68"),c=a("5325"),o=a("03b3"),s=a("568a"),d=Object.getOwnPropertyDescriptor;e.f=a("dad2")?d:function(t,e){if(t=i(t),e=c(e,!0),s)try{return d(t,e)}catch(a){}if(o(t,e))return n(!r.f.call(t,e),t[e])}},ae9e:function(t,e,a){"use strict";a("b628"),a("c73e")},bd8f:function(t,e,a){"use strict";a("b628"),a("6025"),a("d349")},bff1:function(t,e,a){"use strict";var r=a("23c4"),n=a.n(r),i=a("5f8d"),c=a("ef3a"),o=a("2e65"),s=a("77e3"),d=a("bdc9"),l=Object(i["a"])("nav-bar"),u=l[0],h=l[1];function f(t,e,a,r){var i;return t("div",n()([{class:[h({fixed:e.fixed}),(i={},i[s["c"]]=e.border,i)],style:{zIndex:e.zIndex}},Object(o["b"])(r)]),[t("div",{class:h("left"),on:{click:r.listeners["click-left"]||c["e"]}},[a.left?a.left():[e.leftArrow&&t(d["a"],{class:h("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:h("text")},[e.leftText])]]),t("div",{class:[h("title"),"van-ellipsis"]},[a.title?a.title():e.title]),t("div",{class:h("right"),on:{click:r.listeners["click-right"]||c["e"]}},[a.right?a.right():e.rightText&&t("span",{class:h("text")},[e.rightText])])])}f.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}},e["a"]=u(f)},c9ea:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},d0bb:function(t,e,a){"use strict";a("b628"),a("4d4d"),a("6025"),a("229f")},d349:function(t,e,a){},d4d5:function(t,e,a){"use strict";var r=a("3754"),n=a("03b3"),i=a("94ac"),c=a("44de"),o=a("5325"),s=a("b6f1"),d=a("a891").f,l=a("acb9").f,u=a("ddf7").f,h=a("539d").trim,f="Number",p=r[f],m=p,b=p.prototype,v=i(a("a7b8")(b))==f,g="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():h(e,3);var a,r,n,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var c,s=e.slice(2),d=0,l=s.length;d<l;d++)if(c=s.charCodeAt(d),c<48||c>n)return NaN;return parseInt(s,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof p&&(v?s(function(){b.valueOf.call(a)}):i(a)!=f)?c(new m(y(e)),a,p):y(e)};for(var I,S=a("dad2")?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;S.length>k;k++)n(m,I=S[k])&&!n(p,I)&&u(p,I,l(m,I));p.prototype=b,b.constructor=p,a("e5ef")(r,f,p)}},e4b3:function(t,e,a){"use strict";a("b628"),a("6025"),a("e814")},e814:function(t,e,a){},ef20:function(t,e,a){"use strict";var r=a("8bed"),n=a.n(r);n.a},f680:function(t,e,a){}}]);