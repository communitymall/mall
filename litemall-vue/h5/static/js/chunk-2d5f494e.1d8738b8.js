(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d5f494e"],{"0fee":function(t,e,a){},"11e9":function(t,e,a){var n=a("52a7"),r=a("4630"),i=a("6821"),c=a("6a99"),s=a("69a8"),o=a("c69a"),d=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?d:function(t,e){if(t=i(t),e=c(e,!0),o)try{return d(t,e)}catch(a){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},"1c7c":function(t,e,a){"use strict";a.r(e);var n,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order_list"},[a("van-nav-bar",{attrs:{title:"门店详情","left-text":"返回","left-arrow":""},on:{"click-left":t.goback}}),a("van-tabs",{attrs:{"swipe-threshold":5},on:{click:t.handleTabClick},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.tabTitles,function(e,n){return a("van-tab",{key:n,attrs:{title:e}},[0===t.activeIndex?a("van-cell-group",[a("van-cell",{attrs:{title:"商户名称",value:t.merchantName,isLink:""},on:{click:t.onSetManchantName}}),a("van-cell",{attrs:{title:"商户地址",value:t.merchantAddress,isLink:""},on:{click:t.onSetManchantAddress}}),a("van-cell",{attrs:{title:"商户电话",value:t.merchantPhone,isLink:""},on:{click:t.onSetManchantPhone}}),a("van-cell",{attrs:{title:"商户负责人",value:t.merchantLeader,isLink:""},on:{click:t.onSetManchantLeader}}),a("van-cell",{attrs:{title:"商户状态",isLink:""},on:{click:t.onSetManchantAudit}},[a("span",[t._v("  "+t._s(t._f("detailMerchantStatusFilter")(t.merchantStatus)))])]),a("van-cell",{staticClass:"cell_middle",attrs:{title:"门店照片"}})],1):t._e(),0===t.activeIndex?a("img",{attrs:{src:t.pic,width:"100%"}}):t._e(),1===t.activeIndex?a("van-cell-group",[t._l(t.merchantList,function(e,n){return a("div",{key:n,staticClass:"card-goods__item"},[3===e.roleType?a("van-cell",{attrs:{value:"编辑","is-link":""},on:{click:function(a){return t.onEdit(e,n)}}},[a("template",{slot:"title"},[a("span",{staticClass:"custom-title"},[t._v(t._s(t.merchantLeader))]),a("van-tag",{attrs:{type:"danger"}},[t._v(t._s(t._f("detailStatusFilter")(e.roleType)))]),a("br"),a("span",[t._v(t._s(t.merchantPhone))])],1)],2):t._e(),3!==e.roleType?a("van-cell",{attrs:{value:"编辑","is-link":""},on:{click:function(a){return t.onEdit(e,n)}}},[a("template",{slot:"title"},[a("span",{staticClass:"custom-title"},[t._v(t._s(e.name))]),a("van-tag",{attrs:{type:"danger"}},[t._v(t._s(t._f("detailStatusFilter")(e.roleType)))]),a("br"),a("span",[t._v(t._s(e.mobile))])],1)],2):t._e()],1)}),a("div",{attrs:{align:"center"}},[a("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.addMerchantUser}},[t._v("添加人员")])],1)],2):t._e()],1)}),1)],1)},i=[],c=a("bd86"),s=(a("5246"),a("6b41")),o=(a("5f1a"),a("a3e2")),d=(a("2994"),a("2bdd")),l=(a("9cb7"),a("66fd")),u=(a("3647"),a("ea47")),h=(a("bda7"),a("5e46")),f=(a("7f7f"),a("da3c"),a("0b33")),p=(a("c5f6"),a("4056"),a("44bf")),m=(a("e930"),a("8f80")),v=a("4ec3"),b=a("2b0e");b["a"].use(m["a"],p["a"]);var g={0:"管理员",1:"厨师",2:"店员",3:"负责人"},y={0:"审核中",1:"审核未通过",2:"审核通过"},I={filters:{detailStatusFilter:function(t){return g[t]},detailMerchantStatusFilter:function(t){return y[t]}},name:"merchant-detail",props:{active:{type:[String,Number],default:0}},created:function(){this.init(),this.findStrorUser()},data:function(){return{activeIndex:Number(this.active),tabTitles:["门店信息","人员信息"],merchantList:[],page:0,limit:10,loading:!1,finished:!1,shipData:{storeId:""},leaderData:{id:"",merchantLeader:"",merchantPhone:""},merchantName:"",merchantCode:"",merchantAddress:"",merchantPic:"",merchantPhone:"",merchantLeader:"",merchantStatus:"",avatar:"",usId:"",uId:"",roleType:"",mobile:"",storeId:"",pic:""}},methods:{afterRead:function(t){var e=this,a=this.$route.query.storeId,n=t.file,r=this.merchantPic,i=new FormData;i.append("imagefile",n),i.append("storeId",a),i.append("merchantPic",r),Object(v["V"])(i).then(function(t){e.merchantPic=t.data.data,e.pic=t.data.data+"?"+Math.random()})},init:function(){this.page=0,this.getMerchantList()},onSetManchantName:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantName",query:{storeId:t}})},onSetManchantAddress:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantAddress",query:{storeId:t}})},onSetManchantLeader:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantLeader",query:{storeId:t}})},onSetManchantPhone:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantPhone",query:{storeId:t}})},onSetManchantCode:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-setMerchantCode",query:{storeId:t}})},onSetManchantAudit:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-audit",query:{storeId:t}})},onEdit:function(t,e){this.$router.push({name:"merchant-detail-setMerchantUser",query:{userId:t.uId,storeId:t.storeId,roleType:t.roleType}})},onEditLeader:function(){this.$router.push({name:"merchantLeader-detail",query:{id:this.leaderData.id}})},addMerchantUser:function(){var t=this.$route.query.storeId;this.$router.push({name:"merchant-detail-addMerchantUser",query:{storeId:t}})},goback:function(){this.$router.go(-1)},handleTabClick:function(){1===this.activeIndex&&(this.findStrorUser(),this.findLeader())},findStrorUser:function(){var t=this;this.shipData.storeId=this.$route.query.storeId,Object(v["P"])(this.shipData).then(function(e){var a=e.data.data;t.merchantList=e.data.data;for(var n=0;n<a.length;n++)a[n]})},findLeader:function(){var t=this;this.shipData.storeId=this.$route.query.storeId,Object(v["H"])(this.shipData).then(function(e){t.leaderData.merchantLeader=e.data.data.merchantLeader,t.leaderData.merchantPhone=e.data.data.merchantPhone,t.leaderData.id=e.data.data.id})},getMerchantList:function(){var t=this,e=this.$route.query.storeId;this.shipData.storeId=e,Object(v["T"])(this.shipData).then(function(e){t.merchantName=e.data.data.merchantName,t.merchantAddress=e.data.data.merchantAddress,t.merchantPic=e.data.data.merchantPic,t.merchantCode=e.data.data.merchantCode,t.merchantPhone=e.data.data.merchantPhone,t.merchantLeader=e.data.data.merchantLeader,t.merchantStatus=e.data.data.merchantStatus,t.pic=e.data.data.merchantPic+"?"+Math.random()}),this.page++}},components:(n={},Object(c["a"])(n,f["a"].name,f["a"]),Object(c["a"])(n,h["a"].name,h["a"]),Object(c["a"])(n,u["a"].name,u["a"]),Object(c["a"])(n,l["a"].name,l["a"]),Object(c["a"])(n,d["a"].name,d["a"]),Object(c["a"])(n,o["a"].name,o["a"]),Object(c["a"])(n,s["a"].name,s["a"]),n)},k=I,S=(a("ef20"),a("2877")),x=Object(S["a"])(k,r,i,!1,null,"4ac46bc2",null);e["default"]=x.exports},"211a":function(t,e,a){},2994:function(t,e,a){"use strict";a("68ef"),a("c0c2")},"2bdd":function(t,e,a){"use strict";var n=a("d282"),r=a("02de"),i=a("5fbe"),c=a("a8c1"),s=a("543e"),o=Object(n["a"])("list"),d=o[0],l=o[1],u=o[2];e["a"]=d({mixins:[Object(i["a"])(function(t){this.scroller||(this.scroller=Object(c["c"])(this.$el)),t(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.immediateCheck&&this.$nextTick(this.check)},watch:{loading:function(){this.$nextTick(this.check)},finished:function(){this.$nextTick(this.check)}},methods:{check:function(){if(!(this.loading||this.finished||this.error)){var t,e=this.$el,a=this.scroller,n=this.offset,i=this.direction;t=a.getBoundingClientRect?a.getBoundingClientRect():{top:0,bottom:a.innerHeight};var c=t.bottom-t.top;if(!c||Object(r["a"])(e))return!1;var s=!1,o=this.$refs.placeholder.getBoundingClientRect();s="up"===i?o.top-t.top<=n:o.bottom-t.bottom<=n,s&&(this.$emit("input",!0),this.$emit("load"))}},clickErrorText:function(){this.$emit("update:error",!1),this.$nextTick(this.check)}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",class:l("placeholder")});return t("div",{class:l(),attrs:{role:"feed","aria-busy":this.loading}},["down"===this.direction?this.slots():e,this.loading&&t("div",{class:l("loading"),key:"loading"},[this.slots("loading")||t(s["a"],{attrs:{size:"16"}},[this.loadingText||u("loading")])]),this.finished&&this.finishedText&&t("div",{class:l("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:l("error-text")},[this.errorText]),"up"===this.direction?this.slots():e])}})},3647:function(t,e,a){"use strict";a("68ef"),a("09fe"),a("0fee")},4056:function(t,e,a){"use strict";a("68ef"),a("09fe")},5246:function(t,e,a){"use strict";a("68ef"),a("09fe"),a("8a0b")},"5dbc":function(t,e,a){var n=a("d3f4"),r=a("8b97").set;t.exports=function(t,e,a){var i,c=e.constructor;return c!==a&&"function"==typeof c&&(i=c.prototype)!==a.prototype&&n(i)&&r&&r(t,i),t}},"5f1a":function(t,e,a){"use strict";a("68ef"),a("9b7e")},"66fd":function(t,e,a){"use strict";var n=a("2638"),r=a.n(n),i=a("d282"),c=a("a142"),s=a("ba31"),o=a("a3e2"),d=a("44bf"),l=Object(i["a"])("card"),u=l[0],h=l[1];function f(t,e,a,n){var i=e.thumb,l=a.num||Object(c["b"])(e.num),u=a.price||Object(c["b"])(e.price),f=a["origin-price"]||Object(c["b"])(e.originPrice),p=l||u||f;function m(t){Object(s["a"])(n,"click-thumb",t)}function v(){if(a.tag||e.tag)return t("div",{class:h("tag")},[a.tag?a.tag():t(o["a"],{attrs:{mark:!0,type:"danger"}},[e.tag])])}function b(){if(a.thumb||i)return t("a",{attrs:{href:e.thumbLink},class:h("thumb"),on:{click:m}},[a.thumb?a.thumb():t(d["a"],{attrs:{src:i,width:"100%",height:"100%",fit:"contain","lazy-load":e.lazyLoad}}),v()])}function g(){return a.title?a.title():e.title?t("div",{class:h("title")},[e.title]):void 0}function y(){return a.desc?a.desc():e.desc?t("div",{class:[h("desc"),"van-ellipsis"]},[e.desc]):void 0}function I(){if(u)return t("div",{class:h("price")},[a.price?a.price():e.currency+" "+e.price])}function k(){if(f){var n=a["origin-price"];return t("div",{class:h("origin-price")},[n?n():e.currency+" "+e.originPrice])}}function S(){if(l)return t("div",{class:h("num")},[a.num?a.num():"x "+e.num])}function x(){if(a.footer)return t("div",{class:h("footer")},[a.footer()])}return t("div",r()([{class:h()},Object(s["b"])(n,!0)]),[t("div",{class:h("header")},[b(),t("div",{class:h("content",{centered:e.centered})},[g(),y(),a.tags&&a.tags(),p&&t("div",{class:"van-card__bottom"},[I(),k(),S(),a.bottom&&a.bottom()])])]),x()])}f.props={tag:String,desc:String,thumb:String,title:String,centered:Boolean,lazyLoad:Boolean,thumbLink:String,num:[Number,String],price:[Number,String],originPrice:[Number,String],currency:{type:String,default:"¥"}},e["a"]=u(f)},"6b41":function(t,e,a){"use strict";var n=a("2638"),r=a.n(n),i=a("d282"),c=a("a142"),s=a("ba31"),o=a("ad06"),d=Object(i["a"])("nav-bar"),l=d[0],u=d[1];function h(t,e,a,n){return t("div",r()([{class:[u({fixed:e.fixed}),{"van-hairline--bottom":e.border}],style:{zIndex:e.zIndex}},Object(s["b"])(n)]),[t("div",{class:u("left"),on:{click:n.listeners["click-left"]||c["e"]}},[a.left?a.left():[e.leftArrow&&t(o["a"],{class:u("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:u("text")},[e.leftText])]]),t("div",{class:[u("title"),"van-ellipsis"]},[a.title?a.title():e.title]),t("div",{class:u("right"),on:{click:n.listeners["click-right"]||c["e"]}},[a.right?a.right():e.rightText&&t("span",{class:u("text")},[e.rightText])])])}h.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}},e["a"]=l(h)},"8a0b":function(t,e,a){},"8b97":function(t,e,a){var n=a("d3f4"),r=a("cb7c"),i=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:n(t,a),t}}({},!1):void 0),check:i}},9093:function(t,e,a){var n=a("ce10"),r=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},"9b7e":function(t,e,a){},"9cb7":function(t,e,a){"use strict";a("68ef"),a("9b7e"),a("09fe"),a("ea82")},a3e2:function(t,e,a){"use strict";var n=a("2638"),r=a.n(n),i=a("d282"),c=a("ba31"),s=Object(i["a"])("tag"),o=s[0],d=s[1];function l(t,e,a,n){var i,s=e.type,o=e.mark,l=e.plain,u=e.color,h=e.round,f=e.size,p=l?"color":"backgroundColor",m=(i={},i[p]=u,i);e.textColor&&(m.color=e.textColor);var v={mark:o,plain:l,round:h};return f&&(v[f]=f),t("span",r()([{style:m,class:[d([v,s]),{"van-hairline--surround":l}]},Object(c["b"])(n,!0)]),[a.default&&a.default()])}l.props={size:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String,type:{type:String,default:"default"}},e["a"]=o(l)},aa77:function(t,e,a){var n=a("5ca1"),r=a("be13"),i=a("79e5"),c=a("fdef"),s="["+c+"]",o="​",d=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(t,e,a){var r={},s=i(function(){return!!c[t]()||o[t]()!=o}),d=r[t]=s?e(h):c[t];a&&(r[a]=d),n(n.P+n.F*s,"String",r)},h=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},bda7:function(t,e,a){"use strict";a("68ef"),a("ae9e"),a("b807")},c0c2:function(t,e,a){},c5f6:function(t,e,a){"use strict";var n=a("7726"),r=a("69a8"),i=a("2d95"),c=a("5dbc"),s=a("6a99"),o=a("79e5"),d=a("9093").f,l=a("11e9").f,u=a("86cc").f,h=a("aa77").trim,f="Number",p=n[f],m=p,v=p.prototype,b=i(a("2aeb")(v))==f,g="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():h(e,3);var a,n,r,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var c,o=e.slice(2),d=0,l=o.length;d<l;d++)if(c=o.charCodeAt(d),c<48||c>r)return NaN;return parseInt(o,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof p&&(b?o(function(){v.valueOf.call(a)}):i(a)!=f)?c(new m(y(e)),a,p):y(e)};for(var I,k=a("9e1e")?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)r(m,I=k[S])&&!r(p,I)&&u(p,I,l(m,I));p.prototype=v,v.constructor=p,a("2aba")(n,f,p)}},da3c:function(t,e,a){"use strict";a("68ef"),a("f319")},e930:function(t,e,a){"use strict";a("68ef"),a("09fe"),a("4d75"),a("8270"),a("786d"),a("504b"),a("bcd3")},ea47:function(t,e,a){"use strict";var n=a("2638"),r=a.n(n),i=a("d282"),c=a("7744"),s=a("34e9"),o=a("ba31"),d=Object(i["a"])("panel"),l=d[0],u=d[1];function h(t,e,a,n){var i=function(){return[a.header?a.header():t(c["a"],{attrs:{icon:e.icon,label:e.desc,title:e.title,value:e.status,valueClass:u("header-value")},class:u("header")}),t("div",{class:u("content")},[a.default&&a.default()]),a.footer&&t("div",{class:[u("footer"),"van-hairline--top"]},[a.footer()])]};return t(s["a"],r()([{class:u(),scopedSlots:{default:i}},Object(o["b"])(n,!0)]))}h.props={icon:String,desc:String,title:String,status:String},e["a"]=l(h)},ea82:function(t,e,a){},ef20:function(t,e,a){"use strict";var n=a("211a"),r=a.n(n);r.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);